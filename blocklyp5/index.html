<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction to Computation Technology</title>
</head>

<body>  
 

      <div id="toolboxDiv" style="height:600px; width: 800px; float: left; border: 1px solid; margin-top: 2px; margin-left: 35px;"></div>
            <xml id="toolbox">
                <block type="create_table"></block>
                <block type="input_header"></block>
                <block type="row_input"></block>
                <block type="repeat_row"></block>
                <block type="sum"></block>
                <block type="show"></block>
              </xml>
        </div> 
        <div id="wrapperCanvas">
          <script src="https://cdn.jsdelivr.net/npm/p5@1.4.1/lib/p5.js"></script>   

          <!-- <script>
            function setup(){
      createCanvas(500, 500);
      noLoop(); 
    } 
    
    
    function draw(){
      clear();
      textSize(20); 
      table=new p5.Table();
      slideCounter=-1;
      number_of_rows=2; 
      number_of_columns=3;
      user_entry_column1="caterpillar";
      checkTrue="TRUE";
      user_entry_column2="leaves";
      column_names=["RowNo",user_entry_column1,user_entry_column2];
      user_entries= ["added","this","and","more","will","come","lets","see","what","happens","added","this","and","more","will","come","lets","see","what","happens"];
      rowvalue1=2;
      rowvalue2=5; 
      show_sum="TRUE";
      show_enabled="TRUE";
      slideshow=true;
      serialnumber=0;  
    if(slideshow==true){
        text("click to begin slideshow",20,20); 
        setBtn=createButton("Next Slide"); 
        setBtn.position(220,5); 
        setBtn.mouseClicked(nextSlide);
    }
    for(let i=0;i<number_of_columns;i++) {
        table.addColumn(column_names[i]); 
      }
       for(let i=0;i<number_of_rows;i++){
         serialnumber=serialnumber+1;
         UserRow(); 
      }
       if(show_enabled.localeCompare(checkTrue)>-1 ) {
        printTable();
      }
      addRow();
      CopyRow("4"); 
      CopyRow("5");
      CopyRow("6");
    }
    function CopyRow(row_to_be_copied){
      RepeatBuffer=[];  
            serialnumber = serialnumber + 1;
            let i =0;
            for(let columns=0; columns<3;columns++) {  
             RepeatBuffer[i]= table.getString(row_to_be_copied-1,columns),20+80*columns,100+20*row_to_be_copied-1;
             console.log("CONTNET",RepeatBuffer[i]);
             i = i + 1;
            }    
        
     
    let newRow=table.addRow();
    k = 0;
    newRow.setString(column_names[0],""+serialnumber);  
    newRow.setString(column_names[1],""+RepeatBuffer[k+1]);
    newRow.setString(column_names[2],""+RepeatBuffer[k+2]);  
      }
    
    function UserRow()
    { let newRow=table.addRow();
       newRow.setString(column_names[0],"");
    newRow.setString(column_names[0],""+serialnumber)  
    newRow.setString(column_names[1],""+rowvalue1); 
    newRow.setString(column_names[2],""+rowvalue2); } 
    
    function printTable(slideCounter) {
      
     for(let c=0;c<1;c++){
          text(table.columns,20 + 80*c,80); 
      }
     if (slideshow==false){
      for(let rows=0; rows<number_of_rows; rows++){ 
          for(let columns=0; columns<3;columns++) { 
              text(table.getString(rows,columns),20+80*columns,100+20*rows); 
          }
      }
      if(show_sum.localeCompare(checkTrue) > -1) {
        Total(); 
      }      
     }
     if (slideshow==true){
       slideCounter = slideCounter + 1;
       // print one row at a time
         clear();
      // print columns in anycase 
      for(let c=0;c<1;c++){
          text(table.columns,20 + 80*c,80); 
      }
         for(let rows=0; rows<slideCounter; rows++){ 
          for(let columns=0; columns<3;columns++) { 
              text(table.getString(rows,columns),20+80*columns,100+20*rows); 
          }
      }
       
    if (slideCounter == number_of_rows){
      Total();
    }
    if (slideCounter > number_of_rows + user_entries.length){
      console.log("user to be notifide");
    }
     }
    }
    
    
    function Total(){ 
      let newRow = table.addRow();
      newRow.setString(column_names[0], "Total");
      newRow.setString(column_names[1],""+""+number_of_rows*rowvalue1);
      newRow.setString(column_names[2],""+rowvalue2*number_of_rows);
      let rows=number_of_rows; 
      for (let columns = 0; columns < 3; columns++) { 
          text(table.getString(rows, columns), 20 + 80 * columns, 100 + 20 * rows); 
      } 
       } 
    function nextSlide(){
      text("Mode: Slideshow", 20,20); 
      slideCounter = slideCounter + 1;
      printTable(slideCounter);
      console.log("Slide count is:", slideCounter);
      setBtn=createButton("Next Slide"); 
      setBtn.position(220,5); 
      setBtn.mouseClicked(nextSlide);
      alert_end_of_slide = number_of_rows + user_entries.length/2 + 1;
      if (slideCounter>alert_end_of_slide){
        alert("End of slide show");
      }
    }
    
    function addRow(){
    for(let i=0; i<user_entries.length; i++){
    serialnumber = serialnumber + 1;
    let addRow=table.addRow();
    addRow.setString(column_names[0],""+serialnumber);  
    addRow.setString(column_names[1],""+user_entries[i]); addRow.setString(column_names[2],""+user_entries[i+1]);
    i = i + 1; 
    }  
    }
          </script> -->
          <script>
       function setup() {
  createCanvas(500, 500);
}

function draw() {
  background(220);
}
          </script>
    
    </div>
   
         
    

<ul>
  <style>
    
ul {
  list-style-type: none;
  margin-top: 0 px;
  padding: 0;
  overflow: hidden;
  background-color: #333;
}

li {
  float: left;
}

li a {
  display: block;
  color: white;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
} 

li a:hover {
  background-color: #111;
} 
   </style>
  <li><a href="#home">BellRinger 01: Caterpillar problem</a></li>
  <li style="float:right; margin-top: 10px; margin-left: 10px; margin-right: 20 px; padding-right: 20px;"><button id="makeCode" onclick="runCode()">Run Code</button></li>
  <li style="float:right; margin-top: 10px; margin-left: 10px; "><button id="generateCode" onclick="makeCode()">View Code in p5 JS</button></li>
</ul>
  
      <script src="https://unpkg.com/blockly"></script>
    <script src="block-definition.js"></script> 
    <script src="main.js"></script> 
</body>
</html>

